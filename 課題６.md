## １．MySQL  

### データベースを利用したPHPのwebページが表示される環境を作る  

要求仕様
‐ バージョンは８系をインストール  
‐ 自動起動するように設定  
- MySQLに新しく'hbtask'というデータベースを作成
- 'hbtask'データベースに'meibo'というテーブルを作成

## ２．aptコマンドでMySQLをインストールする  
公式ドキュメントに沿ってインストールを進める  
使用したコマンド  
sudo apt install mysql-server  

その後 status　コマンドでactiveになっていることを確認  
ここでひとつ、MySQLやapacheのように常に裏側で動き続けているもののステータスを見る時はsystemctlで操作するという学び

<img width="741" height="340" alt="image" src="https://github.com/user-attachments/assets/403cb0df-4cf5-4997-9f37-ac9ed7eff8ed" />  

参考にしたWebサイト(https://dev.mysql.com/doc/refman/8.4/en/linux-installation-apt-repo.html)  

‐ 自動起動の設定  
使用したコマンド  
sudo systemctl enable mysql  

設定後、再起動して状態の確認  
使用したコマンド  
sudo systemctl status mysql  

無事、activeになっていることを確認（自動起動になっている）  

## ３．hbtaskデータベースの作成  
どのようにコマンドを打っていくか調べていく最中、肝心なことに気がつく  
要件にあった、８系をインストールするという要件を意識せず進めてしまっていた  

慌てて自分のインストールしたMysqlのバージョンを調べるために、以下のコマンドを入力  
sudo mysql -v  

すると次のような画面になり、図らずもMysqlの入力画面のようなものに移行することが出来た  
同時にMysqlのバージョンも８系なことを確認  
<img width="741" height="332" alt="image" src="https://github.com/user-attachments/assets/24808eba-e77b-48a5-8c4b-c08231409464" />  

その他、Mysqlの入力画面に遷移するのはsudo mysqlを使うようだ  

データベースの作成コマンド  
create database hbtask;  

データベースが作れているかの確認コマンド  
show databases;  
<img width="379" height="265" alt="image" src="https://github.com/user-attachments/assets/ce3a7e66-4b27-457c-9153-b5847a30b207" />  

使用するデータベースの選択  
use hbtask;

- データベースにmeiboというテーブルの作成  
使用したコマンド
create table meibo(number INT, username VARCHAR(30));  

INTは整数を扱うという定義付け  
参考公式ドキュメント(https://dev.mysql.com/doc/refman/8.4/en/integer-types.html)  

VARCHARは直後に可変長な文字数を入力する必要がある型  
参考公式ドキュメント(https://dev.mysql.com/doc/refman/8.4/en/char.html)  

テーブル作成に関するコマンドの書き方の参考Webサイト  
(https://www.choge-blog.com/programming/mysql-command/)  

- 作成したテーブルに下記データを登録  
number：１  
username：Kawaguchi Ryota

テーブルが作成できているかの確認  
select * from meibo;  
<img width="272" height="120" alt="image" src="https://github.com/user-attachments/assets/9c2c13a7-624f-477f-a0f0-62f07fd46196" />


## ４．Webブラウザで自分の名前のmysqlにアクセスするとmeiboテーブルに登録した自分の名前が表示される  
以下のWebサイトを参考に、hbtask.local/mysql.phpにviエディターを用いてPHPのコードを書いていく  
(https://codingls.com/php/3327/)  

記述したコード(初段)  
<img width="193" height="105" alt="image" src="https://github.com/user-attachments/assets/09083466-48c2-46fc-a127-a7c788311c36" />  

はじめはこのように変数の定義づけをしていたが、後々Webサイトにアクセスすると権限がなくアクセス出来ない、となった為修正する。  
<img width="1211" height="217" alt="image" src="https://github.com/user-attachments/assets/4e8cfebd-41bf-478e-b091-1f709dff9afe" />  

修正後は以下↓(パスワードの設定、ユーザ名の変更)   

<img width="217" height="124" alt="image" src="https://github.com/user-attachments/assets/9c1e50af-9fe0-4fe9-a827-0324e4e0662b" />  

これは、Mysql８系のデフォルト設定ではrootユーザーにauth_socket認証が適用されているということ  
そしてsudo権限のないwebサーバー（apache）からの接続が拒否されるということの学び  

そこで、パスワード認証を持つ専用ユーザーを作成し権限を割り当てることで接続を確立した  

auth_socketとは：Linuxにログインしているユーザー名とMysqlのユーザー名が一致していればパスワードなしでログインが許可される仕組み

続けてデータベース接続やクエリのコードを書いていく  
最終的に出来上がったのが以下  
<img width="557" height="519" alt="image" src="https://github.com/user-attachments/assets/dcf13a1d-93b6-4f69-8a5a-4cd6c93fe448" />  

conn = connection　接続  
->　=　アロー演算子 左側にある動作をして右側にある機能を実行する  
row　=　行  
カラム　=　列
