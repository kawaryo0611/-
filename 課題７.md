## 公式サイトの手順を参考にインストール  

公式サイトにアクセスしzipファイルをダウンロード  
https://ja.wordpress.org/download/  

今回、視覚的操作(GUI)でMySQLの編集が出来る、かつ初学者にも分かりやすいという点で  
phpmyadminを使うことにする  

## phpmyadmin  

### phpmyadminとは  
・ブラウザ上でMySQLを管理できるツール  
・HTML／CSSの知識がなくても簡単にWebサイトを構築できるWordPressのような便利なツール  

📄 詳しい手順はこちら  
[➡ phpmyadmin 詳細を見る](課題７－１.md)

## wordpress  

### データベースの作成  
#### １．Ubuntuのブラウザでファイアフォックスからphpmyadminを開く  
データベースを作成しようとしたら、権限がないとの表示  
<img width="1204" height="728" alt="image" src="https://github.com/user-attachments/assets/2bdd12ba-63e3-4610-a165-e18407053a94" />  

ターミナルのMySQLにログインし、データベースの作成と、そのデータベースに対する権限の付与を行う  
wq_dbというデータベースを作ると過程して  
create database;  
grant all privileges on wp_db.*to'hbtask_user'@'localhost';  

参考にしたwebサイト(https://qiita.com/shun198/items/b7f86bd7b998d3676c55)  
<img width="847" height="382" alt="image" src="https://github.com/user-attachments/assets/ce931429-56b5-4ae2-8157-439b294beccb" />  

もし仮に、ブラウザのphpmyadminからデータベースをGUIで操作するとしたら、特定のデータベースに対してではなく  
全てのデータベースに対して権限を付与すれば良い
このような権限のユーザーを特権ユーザー(スーパーユーザー)と呼ぶそう  

本番を意識したセキュリティ対策として今回は全体への権限付与は実施しないが、もしやるとすれば  
grant all privileges on*.*to'hbtask_user'@'localhost' with grant option;  
として  
・[**]←全てのデータベースの、全てのテーブル  
・with grant option ←自分と同等の権限を付与する  
と記載する  

#### ２．wp-config.phpの設定  
引き続き、公式サイトに基づき進めていく  
ダウンロードしたファイル wp-config-sample.phpを用いて  
wp-config.phpというファイルを作成する  
mvコマンドでリネームして編集 or cpコマンドでコピーを作ってバックアップを用意し元のファイルは編集しない  
の二択から、後者を選択  

<img width="1207" height="740" alt="image" src="https://github.com/user-attachments/assets/1d6204d5-6439-4ba1-a9d9-f388949b738e" />  

カレントディレクトリが離れていた為実行できず  
cdコマンドでディレクトリを移動することも出来ましたが、この後の流れの中で  
apacheが読み取れる場所までファイルを移動させる必要があるので  
今回はディレクトリを移動、ではなくファイル自体を移動させることに  

- 先にディレクトリを作成する
sudo midir -p /var/www/html/blog

- WordPress関連のファイルを全て公開ディレクトリへコピーする
sudo cp -r ~/ダウンロード/wordpress-6.9.1-ja/wordpress/* /var/www/html/blog/

- 公開ディレクトリへ移動
cd /var/www/html/blog/

- sample.phpを元にコピーを作成する
sudo cp wp-config-sample.php wp-config.php

- 設定ファイルを編集する
下記画像のように編集
<img width="663" height="142" alt="image" src="https://github.com/user-attachments/assets/898f8c87-c0c2-4435-9dae-83830cde9bb4" />

ここまでを行い、ひとまず課題のURLを入力しブラウザを開くと  
<img width="1116" height="359" alt="image" src="https://github.com/user-attachments/assets/98aa87da-2822-4d4f-8dcf-6490e421b489" />  

このように表示された  
ここで、設定ファイルの参照先を間違えていることに気づく  
wp-config.phpを編集していたが、正しくは var/www/html/blog/wp-config.phpだった  

<img width="878" height="546" alt="image" src="https://github.com/user-attachments/assets/535c0d78-3add-48dd-80aa-096fe50ccbca" />  

この設定ファイルの、データベース名等を編集していく  
無事に編集が終わり、WordPressのインストール画面が表示された！  

<img width="1189" height="760" alt="image" src="https://github.com/user-attachments/assets/6f1537b0-1b6a-4bd8-b50d-6e6377b2bc1c" />  

### ３．インストールスクリプトを実行する  
今回は/blog　というサブディレクトリにWordPressのファイルを移動している為、以下サイトを訪問(公式サイトのステップ５に基づいて)  
https://example.com/blog/wp-admin/install.php  
これを自分のURLに直してアクセス  

必要事項を入力し、無事にインストールまで完了  
<img width="1029" height="553" alt="image" src="https://github.com/user-attachments/assets/a3efafc2-5e37-47c2-a797-e32286697b53" />  

### ４．構築したブログサイトで記事の投稿  
ダッシュボード→投稿→投稿を追加 から、新しい記事を作成  

無事に投稿することも出来、http://kawaguchi-hbtask.local/blog にアクセスすると  
投稿されたブログが一覧で表示される  

<img width="1121" height="777" alt="image" src="https://github.com/user-attachments/assets/0eb722d3-fd51-4dab-9c6c-e2e8c0134dbe" />  

### ５．次回やってみたいこと  
・仮想マシンとしてではなく、自分が普段使用しているホストOSから今回作成したブログページにアクセスする為の設定  
・WordPress、久しぶりに触ったがコマンドだけでここまで作り込めるとは思わなかった  
　MySQLにも詳しくなれば、phpmyadminを使用せずとも作ることが出来ると思うと、より知識を深めていきたい  
